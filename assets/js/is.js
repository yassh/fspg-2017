// @flow

const PATTERN_INDIVIDUAL_JUMP = "((1|2|3|4)(T|S|Lo|F|Lz|A)e?(<|<<)?)"
const PATTERN_SOLO_JUMP = `(${PATTERN_INDIVIDUAL_JUMP})`
const PATTERN_JUMP_COMBINATION = `(${PATTERN_INDIVIDUAL_JUMP}[+]${PATTERN_INDIVIDUAL_JUMP}([+]${PATTERN_INDIVIDUAL_JUMP})?)`
const PATTERN_JUMP_SEQUENCE = `(${PATTERN_INDIVIDUAL_JUMP}[+]${PATTERN_INDIVIDUAL_JUMP}[+]SEQ)`
const PATTERN_REPEATED_JUMP = `(${PATTERN_INDIVIDUAL_JUMP}[+]REP)`
const PATTERN_JUMP = `(${PATTERN_SOLO_JUMP}|${PATTERN_JUMP_COMBINATION}|${PATTERN_JUMP_SEQUENCE}|${PATTERN_REPEATED_JUMP})`
const REGEX_JUMP = new RegExp(`^${PATTERN_JUMP}$`)

export function isJump(abbr: string): boolean {
  return REGEX_JUMP.test(abbr)
}
